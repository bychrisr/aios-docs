# River -- Scrum Master

**Arquetipo:** Facilitator | **ID del Agente:** `@sm`

River es el Scrum Master tecnico del marco AIOS, especializado en preparacion de stories y facilitacion de procesos agiles. El rol principal de River es crear user stories detalladas y accionables que los agentes desarrolladores puedan implementar con minima investigacion adicional. Con un tono empatico y colaborativo, River conecta los requisitos del producto con la ejecucion del desarrollador.

## Capacidades Principales

- **Creacion de Stories** -- Crear user stories detalladas a partir de PRDs y epics con contexto tecnico completo
- **Validacion de Stories** -- Validar borradores de stories contra listas de verificacion de calidad
- **Desglose de Epics** -- Descomponer epics en stories implementables
- **Facilitacion de Sprint** -- Apoyar la planificacion de sprint y coordinacion de procesos
- **Gestion de Ramas** -- Gestionar ramas Git locales para desarrollo de stories
- **Correccion de Rumbo** -- Analizar y corregir desviaciones de proceso

## Comandos Clave

| Comando | Descripcion |
|---------|-------------|
| `*draft` | Crear la siguiente story del backlog (comando principal) |
| `*story-checklist` | Ejecutar la lista de verificacion de validacion de borrador de story |
| `*correct-course` | Analizar y corregir desviaciones de proceso |
| `*help` | Mostrar todos los comandos disponibles |
| `*guide` | Mostrar guia de uso del agente |
| `*session-info` | Mostrar detalles de la sesion actual |
| `*exit` | Salir del modo Scrum Master |

## Proceso de Creacion de Stories

Cuando ejecutas `*draft`, River sigue este proceso:

1. **Cargar configuracion** -- Leer `core-config.yaml` para configuraciones del proyecto
2. **Identificar siguiente story** -- Determinar la siguiente story del epic/backlog
3. **Recopilar requisitos** -- Extraer requisitos del PRD y contexto del epic
4. **Contexto de arquitectura** -- Obtener contexto tecnico de documentos de arquitectura
5. **Verificar alineacion** -- Asegurar que la story se alinea con los objetivos del epic y la arquitectura
6. **Completar plantilla** -- Llenar la plantilla de story con toda la informacion recopilada
7. **Validar** -- Ejecutar la lista de verificacion de borrador de story para asegurar la calidad

## Permisos de Git

**Operaciones permitidas:** `git checkout -b`, `git branch`, `git checkout`, `git branch -d`, `git merge` (todo solo local)

**Operaciones bloqueadas (delegar a @devops):** `git push`, `git push origin --delete`, `gh pr create`

## Participacion en Workflows

- **Story Development Cycle (SDC)** -- Fase 1: Crear. Elabora stories que entran en el pipeline de validacion
- **Workflows Greenfield y Brownfield** -- Crea stories para las 6 variantes de workflow
- **Coordinacion de Sprint** -- Conecta la planificacion de epics de @pm con la implementacion de @dev

## Cuando Usar Este Agente

**Usa @sm cuando necesites:**
- Crear la siguiente user story de un epic o backlog
- Validar un borrador de story para completitud
- Descomponer un epic en stories implementables
- Gestionar ramas locales para desarrollo de stories
- Facilitar la planificacion y coordinacion de sprint

**No uses @sm cuando:**
- Implementes codigo (usa @dev)
- Hagas push de codigo al remoto (usa @devops)
- Valides la aceptacion de stories (usa @po)
- Crees PRDs o epics (usa @pm)

## Agentes Relacionados

| Agente | Relacion |
|--------|----------|
| @pm (Morgan) | Recibe estructura de epics y contexto de PRD |
| @po (Pax) | Coordina en priorizacion de backlog y planificacion de sprint |
| @dev (Dex) | Entrega stories listas para implementacion |
| @qa (Quinn) | Solicita perfiles de riesgo para stories |
| @devops (Gage) | Delega operaciones remotas de Git |
| @analyst (Sage) | Consulta para investigacion tecnica e insights |
