# Proyecto Greenfield

Comenzar un nuevo proyecto desde cero con AIOS. Esta guía cubre las tres variantes del flujo de trabajo greenfield y te lleva a través del ciclo de vida completo desde el concepto hasta la producción.

## Cuándo Usar un Flujo de Trabajo Greenfield

Usa un flujo de trabajo greenfield cuando estés construyendo una aplicación completamente nueva sin base de código existente. Escenarios típicos incluyen:

- Nuevas aplicaciones web, plataformas SaaS o aplicaciones empresariales
- Productos Mínimos Viables (MVPs) y prototipos
- Proyectos que requieren documentación integral desde el primer día
- Productos a largo plazo con múltiples miembros del equipo

## Elegir la Variante Correcta

AIOS proporciona tres variantes de flujo de trabajo greenfield. Elige según lo que estés construyendo:

| Variante | Comando | Ideal Para |
|----------|---------|------------|
| **Full-Stack** | `*workflow greenfield-fullstack` | Aplicaciones web, SaaS, apps empresariales con frontend y backend |
| **Servicio/API** | `*workflow greenfield-service` | APIs REST, APIs GraphQL, microservicios, servicios backend |
| **Solo UI** | `*workflow greenfield-ui` | SPAs, aplicaciones móviles, micro-frontends, sitios estáticos |

Las tres variantes comparten la misma estructura general pero difieren en qué agentes participan y qué artefactos se producen durante la fase de planificación.

## Fases del Flujo de Trabajo

Todo flujo de trabajo greenfield sigue cuatro fases principales:

### Fase 0: Bootstrap del Entorno

Antes de cualquier otra cosa, @devops (Gage) configura el entorno de desarrollo.

```
@devops *environment-bootstrap
```

Este paso verifica e instala los CLIs requeridos (git, gh, node, npm), autentica servicios (GitHub, Supabase, Railway), inicializa el repositorio Git y genera un scaffold del proyecto. Se omite automáticamente si `.aios/environment-report.json` ya existe.

### Fase 1: Descubrimiento y Planificación

Esta es la fase central de planificación donde los agentes colaboran para producir toda la documentación del proyecto.

| Paso | Agente | Produce | Requerido |
|------|--------|---------|-----------|
| 1. Project Brief | @analyst (Atlas) | `docs/project-brief.md` | Sí |
| 2. PRD | @pm (Morgan) | `docs/prd.md` | Sí |
| 3. Frontend Spec | @ux-expert (Uma) | `docs/front-end-spec.md` | Solo Full-Stack y UI |
| 4. AI UI Prompt | @ux-expert (Uma) | Prompt para v0/Lovable | Opcional |
| 5. Arquitectura | @architect (Aria) | `docs/fullstack-architecture.md` | Sí |
| 6. Actualización PRD | @pm (Morgan) | `docs/prd.md` actualizado | Si el arquitecto sugiere cambios |
| 7. Validación | @po (Pax) | Reporte de validación | Sí |

**Puntos de decisión clave:**
- Si el arquitecto sugiere cambios al PRD, @pm actualiza el PRD antes de la validación.
- Si @po encuentra problemas durante la validación, el agente correspondiente los corrige antes de continuar.

**Pasos opcionales** disponibles en esta fase: sesiones de brainstorming, investigación de mercado, investigación de usuarios e investigación técnica.

### Fase 2: Fragmentación de Documentos

Una vez que todos los artefactos están validados, @po fragmenta el PRD y la arquitectura en archivos más pequeños listos para el desarrollo basado en IDE.

```
@po *shard-doc docs/prd.md
```

Esto produce:
- `docs/prd/` -- Secciones individuales del PRD
- `docs/architecture/source-tree.md` -- Estructura de directorios del proyecto
- `docs/architecture/tech-stack.md` -- Stack tecnológico
- `docs/architecture/coding-standards.md` -- Estándares de codificación

### Fase 3: Ciclo de Desarrollo

La fase iterativa de construcción donde las historias se crean, implementan y revisan.

```
@sm *draft                     # Crear la siguiente historia
@dev *develop {story-id}       # Implementar la historia
@qa *review {story-id}         # Revisión QA (opcional)
@devops *push                  # Enviar cuando esté aprobado
```

Cada historia sigue el ciclo de vida: **Draft** {">"} **Ready** {">"} **InProgress** {">"} **InReview** {">"} **Done**

El ciclo se repite para cada historia en la épica. Después de que todas las historias estén completas, @po puede ejecutar una retrospectiva de épica opcional.

## Recorrido de la Variante Full-Stack

La variante full-stack es la más común. Aquí está el flujo paso a paso:

1. **Bootstrap**: `@devops *environment-bootstrap` -- Configurar repo, CLIs, scaffold del proyecto
2. **Brief**: `@analyst` crea el project brief con brainstorming opcional
3. **PRD**: `@pm` transforma el brief en un Documento de Requisitos del Producto detallado
4. **Frontend Spec**: `@ux-expert` crea especificaciones UI/UX desde el PRD
5. **Arquitectura**: `@architect` diseña la arquitectura full-stack (puede sugerir cambios al PRD)
6. **Validación**: `@po` ejecuta el master checklist en todos los artefactos
7. **Fragmentación**: `@po` fragmenta documentos para desarrollo
8. **Ciclo de Historias**: `@sm` crea historias, `@dev` implementa, `@qa` revisa, repetir
9. **Retrospectiva**: `@po` documenta aprendizajes después de completar la épica

## Prerequisitos

| Requisito | Mínimo | Recomendado |
|-----------|--------|-------------|
| Node.js | 18.x | 20.x |
| Git | 2.x | 2.43+ |
| GitHub CLI | Última versión | Última versión |

Autenticaciones requeridas: GitHub (`gh auth login`), y opcionalmente Supabase y Railway.

## Diferencias entre Variantes

| Aspecto | Full-Stack | Servicio/API | Solo UI |
|---------|-----------|-------------|---------|
| Frontend spec | Sí | No | Sí |
| Plantilla de arquitectura | `fullstack-architecture-tmpl` | `architecture-tmpl` | `front-end-architecture-tmpl` |
| Paso de AI UI prompt | Opcional | No | Opcional |
| Participación de @ux-expert | Sí | No | Sí |
| Planificación de base de datos | Sí | Sí | No |
| Agentes típicos | 9 agentes | 7 agentes | 8 agentes |

## Comandos de Inicio Rápido

```
# Proyecto full-stack
*workflow greenfield-fullstack

# Servicio backend o API
*workflow greenfield-service

# Aplicación frontend/UI
*workflow greenfield-ui
```

## Resolución de Problemas

| Problema | Solución |
|----------|----------|
| Plantilla no encontrada | Verificar que las plantillas existan en `.aios-core/development/templates/` |
| Bootstrap falla en autenticación | Re-autenticarse con `gh auth login --scopes repo,workflow` |
| Validación de PO sigue fallando | Revisar los criterios del po-master-checklist; asegurar que los artefactos sean consistentes |
| Fragmentación de documentos falla | Verificar que el markdown use encabezados `##` para detección de secciones |
| Historia incompleta | Ejecutar `*story-checklist` para identificar campos faltantes |
