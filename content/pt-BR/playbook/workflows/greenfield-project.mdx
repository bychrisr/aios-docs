# Projeto Greenfield

Iniciando um novo projeto do zero com o AIOS. Este guia cobre as tres variantes de workflow greenfield e acompanha o ciclo de vida completo, do conceito a producao.

## Quando Usar um Workflow Greenfield

Use um workflow greenfield quando estiver construindo uma aplicacao totalmente nova, sem codebase existente. Cenarios tipicos incluem:

- Novas aplicacoes web, plataformas SaaS ou apps empresariais
- Produtos Minimos Viaveis (MVPs) e prototipos
- Projetos que exigem documentacao abrangente desde o inicio
- Produtos de longo prazo com multiplos membros na equipe

## Escolhendo a Variante Certa

O AIOS oferece tres variantes de workflow greenfield. Escolha com base no que voce esta construindo:

| Variante | Comando | Ideal Para |
|----------|---------|------------|
| **Full-Stack** | `*workflow greenfield-fullstack` | Apps web, SaaS, apps empresariais com frontend e backend |
| **Service/API** | `*workflow greenfield-service` | REST APIs, GraphQL APIs, microsservicos, servicos backend |
| **UI Only** | `*workflow greenfield-ui` | SPAs, apps mobile, micro-frontends, sites estaticos |

Todas as tres variantes compartilham a mesma estrutura geral, mas diferem nos agentes envolvidos e nos artefatos produzidos durante a fase de planejamento.

## Fases do Workflow

Todo workflow greenfield segue quatro grandes fases:

### Fase 0: Bootstrap do Ambiente

Antes de tudo, @devops (Gage) configura o ambiente de desenvolvimento.

```
@devops *environment-bootstrap
```

Este passo verifica e instala CLIs necessarias (git, gh, node, npm), autentica servicos (GitHub, Supabase, Railway), inicializa o repositorio Git e gera o scaffold do projeto. E ignorado automaticamente se `.aios/environment-report.json` ja existir.

### Fase 1: Descoberta e Planejamento

Esta e a fase central de planejamento onde os agentes colaboram para produzir toda a documentacao do projeto.

| Passo | Agente | Produz | Obrigatorio |
|-------|--------|--------|-------------|
| 1. Project Brief | @analyst (Atlas) | `docs/project-brief.md` | Sim |
| 2. PRD | @pm (Morgan) | `docs/prd.md` | Sim |
| 3. Frontend Spec | @ux-expert (Uma) | `docs/front-end-spec.md` | Apenas Full-Stack e UI |
| 4. AI UI Prompt | @ux-expert (Uma) | Prompt para v0/Lovable | Opcional |
| 5. Arquitetura | @architect (Aria) | `docs/fullstack-architecture.md` | Sim |
| 6. Atualizacao PRD | @pm (Morgan) | `docs/prd.md` atualizado | Se architect sugerir mudancas |
| 7. Validacao | @po (Pax) | Relatorio de validacao | Sim |

**Pontos de decisao chave:**
- Se o architect sugerir mudancas no PRD, @pm atualiza o PRD antes da validacao.
- Se @po encontrar problemas na validacao, o agente relevante corrige antes de prosseguir.

**Passos opcionais** disponiveis nesta fase: sessoes de brainstorming, pesquisa de mercado, pesquisa de usuarios e pesquisa tecnica.

### Fase 2: Fragmentacao de Documentos

Uma vez que todos os artefatos estejam validados, @po fragmenta o PRD e a arquitetura em arquivos menores prontos para desenvolvimento no IDE.

```
@po *shard-doc docs/prd.md
```

Isso produz:
- `docs/prd/` -- Secoes individuais do PRD
- `docs/architecture/source-tree.md` -- Estrutura de diretorios do projeto
- `docs/architecture/tech-stack.md` -- Stack tecnologico
- `docs/architecture/coding-standards.md` -- Padroes de codificacao

### Fase 3: Ciclo de Desenvolvimento

A fase iterativa de construcao onde stories sao criadas, implementadas e revisadas.

```
@sm *draft                     # Criar proxima story
@dev *develop {story-id}       # Implementar a story
@qa *review {story-id}         # Revisao QA (opcional)
@devops *push                  # Entregar quando aprovado
```

Cada story segue o ciclo de vida: **Draft** {">"} **Ready** {">"} **InProgress** {">"} **InReview** {">"} **Done**

O ciclo se repete para cada story do epic. Apos todas as stories estarem completas, @po pode executar uma retrospectiva de epic opcional.

## Passo a Passo da Variante Full-Stack

A variante full-stack e a mais comum. Aqui esta o fluxo completo:

1. **Bootstrap**: `@devops *environment-bootstrap` -- Configurar repo, CLIs, scaffold do projeto
2. **Brief**: `@analyst` cria o project brief com brainstorming opcional
3. **PRD**: `@pm` transforma o brief em um Documento de Requisitos detalhado
4. **Frontend Spec**: `@ux-expert` cria especificacoes de UI/UX a partir do PRD
5. **Arquitetura**: `@architect` projeta a arquitetura full-stack (pode sugerir mudancas no PRD)
6. **Validacao**: `@po` executa o master checklist em todos os artefatos
7. **Fragmentacao**: `@po` fragmenta documentos para desenvolvimento
8. **Loop de Stories**: `@sm` cria stories, `@dev` implementa, `@qa` revisa, repete
9. **Retrospectiva**: `@po` documenta aprendizados apos conclusao do epic

## Pre-requisitos

| Requisito | Minimo | Recomendado |
|-----------|--------|-------------|
| Node.js | 18.x | 20.x |
| Git | 2.x | 2.43+ |
| GitHub CLI | Mais recente | Mais recente |

Autenticacoes necessarias: GitHub (`gh auth login`), e opcionalmente Supabase e Railway.

## Diferencas Entre as Variantes

| Aspecto | Full-Stack | Service/API | UI Only |
|---------|-----------|-------------|---------|
| Frontend spec | Sim | Nao | Sim |
| Template de arquitetura | `fullstack-architecture-tmpl` | `architecture-tmpl` | `front-end-architecture-tmpl` |
| Passo de AI UI prompt | Opcional | Nao | Opcional |
| Envolvimento de @ux-expert | Sim | Nao | Sim |
| Planejamento de banco de dados | Sim | Sim | Nao |
| Agentes tipicos | 9 agentes | 7 agentes | 8 agentes |

## Comandos de Inicio Rapido

```
# Projeto full-stack
*workflow greenfield-fullstack

# Servico backend ou API
*workflow greenfield-service

# Aplicacao frontend/UI
*workflow greenfield-ui
```

## Solucao de Problemas

| Problema | Solucao |
|----------|---------|
| Template nao encontrado | Verifique se os templates existem em `.aios-core/development/templates/` |
| Bootstrap falha na autenticacao | Re-autentique com `gh auth login --scopes repo,workflow` |
| Validacao do PO continua falhando | Revise os criterios do po-master-checklist; garanta consistencia entre artefatos |
| Fragmentacao de documentos falha | Verifique se o markdown usa cabecalhos `##` para deteccao de secoes |
| Story incompleta | Execute `*story-checklist` para identificar campos ausentes |
