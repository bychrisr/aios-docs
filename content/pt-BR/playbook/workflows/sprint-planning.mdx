# Planejamento de Sprint

Guia para planejar e executar sprints semanais com o AIOS, desde a criacao de epics ate a entrega de stories.

## O Modelo de Sprint do AIOS

O AIOS organiza o trabalho em uma hierarquia: **Epics** contem **Stories**, e stories fluem pelo Story Development Cycle (SDC). O planejamento de sprint e o processo de selecionar quais stories abordar em um determinado periodo.

### Papeis dos Agentes no Planejamento de Sprint

| Agente | Papel | Comandos Chave |
|--------|-------|----------------|
| @pm (Morgan) | Cria epics, define estrategia de produto | `*create-epic`, `*execute-epic` |
| @sm (River) | Cria e gerencia stories a partir de epics | `*draft`, `*create-story` |
| @po (Pax) | Valida stories, gerencia prioridades do backlog | `*validate-story-draft` |
| @dev (Dex) | Estima esforco, implementa stories | `*develop {story-id}` |
| @qa (Quinn) | Revisa qualidade da implementacao | `*qa-gate`, `*qa-loop` |
| @devops (Gage) | Entrega trabalho aprovado | `*push` |

## Antes do Sprint

### 1. Criar ou Revisar o Epic

Se estiver iniciando uma nova area funcional, crie um epic primeiro:

```
@pm *create-epic
```

O agente PM coleta requisitos, define escopo, criterios de sucesso e divide o epic em uma lista priorizada de stories.

### 2. Criar Stories a Partir do Epic

```
@sm *draft
```

O Scrum Master cria stories detalhadas a partir do epic. Cada story inclui criterios de aceitacao, tarefas, limites de escopo (IN/OUT) e dependencias.

### 3. Validar Stories

```
@po *validate-story-draft
```

O Product Owner valida cada story contra um checklist de 10 pontos:

1. Titulo claro e objetivo
2. Descricao completa (problema/necessidade explicados)
3. Criterios de aceitacao testaveis (Given/When/Then preferido)
4. Escopo bem definido (IN e OUT claramente listados)
5. Dependencias mapeadas
6. Estimativa de complexidade
7. Valor de negocio declarado
8. Riscos documentados
9. Criterios de Definition of Done
10. Alinhamento com PRD/Epic

Uma story recebe **GO** (≥ 7/10) ou **NO-GO** (requer correcoes). Apenas stories com status GO passam para Ready.

### 4. Selecionar Stories para o Sprint

Revise o backlog de stories Ready e selecione com base em:

- **Prioridade** -- Valor de negocio e urgencia
- **Capacidade** -- Tempo de desenvolvimento disponivel
- **Dependencias** -- Stories pre-requisito devem ser completadas primeiro
- **Equilibrio de risco** -- Mistura de stories de alto risco e diretas

## Execucao do Sprint

### Kickoff

```
@pm *execute-epic {epic-id}
```

Isso inicia o fluxo de execucao do epic, processando stories em ordem de prioridade.

### Fluxo de Desenvolvimento Diario

Para cada story no sprint:

1. `@sm *draft` -- Criar a proxima story (se nao pre-criada)
2. `@po *validate-story-draft` -- Validar a story (GO/NO-GO)
3. `@dev *develop {story-id}` -- Implementar seguindo criterios de aceitacao
4. `@qa *qa-gate` -- Executar a verificacao de qualidade de 7 pontos
5. `@devops *push` -- Entregar quando aprovado

### Progressao de Status da Story

```
Draft --> Ready --> InProgress --> InReview --> Done
```

| Status | Gatilho | Responsavel |
|--------|---------|-------------|
| Draft | @sm cria story | @sm |
| Ready | @po valida (GO) | @po |
| InProgress | @dev inicia implementacao | @dev |
| InReview | @dev completa, @qa revisa | @qa |
| Done | @qa PASS, @devops envia | @devops |

### Lidando com Bloqueios

- **Bloqueio por dependencia**: @sm atualiza status da story; repriorizar backlog do sprint
- **Falha no QA**: `@qa *qa-loop {story-id}` inicia o ciclo iterativo de correcao (max 5 iteracoes)
- **Mudanca de escopo**: `@po *validate-story-draft` revalida a story com escopo atualizado
- **Escalacao**: Se o QA loop atingir o maximo de iteracoes ou um veredito for BLOCKED, escale para @aios-master

## Estimativa e Velocidade

### Estimativa de Stories

Stories sao estimadas usando pontos de complexidade ou tamanhos T-shirt durante a validacao. Fatores considerados:

- **Escopo** -- Numero de arquivos afetados
- **Integracao** -- APIs externas ou sistemas envolvidos
- **Infraestrutura** -- Mudancas de ambiente ou configuracao
- **Conhecimento** -- Familiaridade da equipe com o dominio
- **Risco** -- Criticidade e potencial para regressoes

### Rastreamento de Velocidade

Acompanhe estas metricas entre sprints:

| Metrica | Meta | Proposito |
|---------|------|-----------|
| Stories completadas | ≥ 80% do planejado | Previsibilidade do sprint |
| Taxa de aprovacao no QA (primeira tentativa) | ≥ 70% | Qualidade do desenvolvimento |
| Tempo de ciclo por story | Tendencia decrescente | Eficiencia do processo |
| Iteracoes do QA loop | Media abaixo de 2 | Efetividade da revisao |

## Revisao e Retrospectiva do Sprint

### Revisao

1. Compare stories completadas com o plano do sprint
2. Execute a verificacao final do `@qa` em todo o trabalho concluido
3. Demonstre funcionalidades completadas para stakeholders

### Retrospectiva

Apos o sprint (ou apos a conclusao de um epic):

1. O que funcionou bem
2. O que pode ser melhorado
3. Acoes para o proximo sprint
4. Atualizar documentacao de processos se necessario
