# Sprint Planning

Guide for planning and executing weekly sprints with AIOS, from epic creation through story delivery.

## The AIOS Sprint Model

AIOS organizes work into a hierarchy: **Epics** contain **Stories**, and stories flow through the Story Development Cycle (SDC). Sprint planning is the process of selecting which stories to tackle in a given time period.

### Agent Roles in Sprint Planning

| Agent | Role | Key Commands |
|-------|------|-------------|
| @pm (Morgan) | Creates epics, defines product strategy | `*create-epic`, `*execute-epic` |
| @sm (River) | Creates and manages stories from epics | `*draft`, `*create-story` |
| @po (Pax) | Validates stories, manages backlog priorities | `*validate-story-draft` |
| @dev (Dex) | Estimates effort, implements stories | `*develop {story-id}` |
| @qa (Quinn) | Reviews implementation quality | `*qa-gate`, `*qa-loop` |
| @devops (Gage) | Ships approved work | `*push` |

## Before the Sprint

### 1. Create or Review the Epic

If starting a new feature area, create an epic first:

```
@pm *create-epic
```

The PM agent gathers requirements, defines scope, success criteria, and breaks the epic into a prioritized list of stories.

### 2. Create Stories from the Epic

```
@sm *draft
```

The Scrum Master creates detailed stories from the epic. Each story includes acceptance criteria, tasks, scope boundaries (IN/OUT), and dependencies.

### 3. Validate Stories

```
@po *validate-story-draft
```

The Product Owner validates each story against a 10-point checklist:

1. Clear and objective title
2. Complete description (problem/need explained)
3. Testable acceptance criteria (Given/When/Then preferred)
4. Well-defined scope (IN and OUT clearly listed)
5. Dependencies mapped
6. Complexity estimate
7. Business value stated
8. Risks documented
9. Definition of Done criteria
10. Alignment with PRD/Epic

A story scores **GO** (≥ 7/10) or **NO-GO** (requires fixes). Only stories with GO status move to Ready.

### 4. Select Stories for the Sprint

Review the backlog of Ready stories and select based on:

- **Priority** -- Business value and urgency
- **Capacity** -- Available development time
- **Dependencies** -- Prerequisite stories must be completed first
- **Risk balance** -- Mix of high-risk and straightforward stories

## Sprint Execution

### Kickoff

```
@pm *execute-epic {epic-id}
```

This initiates the epic execution flow, processing stories in priority order.

### Daily Development Flow

For each story in the sprint:

1. `@sm *draft` -- Create the next story (if not pre-created)
2. `@po *validate-story-draft` -- Validate the story (GO/NO-GO)
3. `@dev *develop {story-id}` -- Implement following acceptance criteria
4. `@qa *qa-gate` -- Run the 7-point quality check
5. `@devops *push` -- Ship when approved

### Story Status Progression

```
Draft --> Ready --> InProgress --> InReview --> Done
```

| Status | Trigger | Responsible |
|--------|---------|-------------|
| Draft | @sm creates story | @sm |
| Ready | @po validates (GO) | @po |
| InProgress | @dev starts implementation | @dev |
| InReview | @dev completes, @qa reviews | @qa |
| Done | @qa PASS, @devops pushes | @devops |

### Handling Blockers

- **Dependency block**: @sm updates story status; reprioritize sprint backlog
- **QA failure**: `@qa *qa-loop {story-id}` starts the iterative fix cycle (max 5 iterations)
- **Scope change**: `@po *validate-story-draft` re-validates the story with updated scope
- **Escalation**: If QA loop reaches max iterations or a verdict is BLOCKED, escalate to @aios-master

## Estimation and Velocity

### Story Estimation

Stories are estimated using complexity points or T-shirt sizes during validation. Factors considered:

- **Scope** -- Number of files affected
- **Integration** -- External APIs or systems involved
- **Infrastructure** -- Environment or configuration changes
- **Knowledge** -- Team familiarity with the domain
- **Risk** -- Criticality and potential for regressions

### Velocity Tracking

Track these metrics across sprints:

| Metric | Target | Purpose |
|--------|--------|---------|
| Stories completed | ≥ 80% of planned | Sprint predictability |
| QA pass rate (first attempt) | ≥ 70% | Development quality |
| Cycle time per story | Decreasing trend | Process efficiency |
| QA loop iterations | Average under 2 | Review effectiveness |

## Sprint Review and Retrospective

### Review

1. Compare completed stories against the sprint plan
2. Run `@qa` final verification on all completed work
3. Demo completed features to stakeholders

### Retrospective

After the sprint (or after an epic completes):

1. What went well
2. What could be improved
3. Action items for the next sprint
4. Update process documentation if needed
