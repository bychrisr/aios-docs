storyId: "story-1.1"
createdAt: "2026-02-16T04:30:00Z"
createdBy: "@architect"
status: pending
complexity: SIMPLE
estimatedEffort: "< 1 hour"

dependencies:
  - name: next
    version: "^15.0.0"
    purpose: "App Router framework"
  - name: react
    version: "^19.0.0"
    purpose: "UI library"
  - name: react-dom
    version: "^19.0.0"
    purpose: "React DOM renderer"
  - name: nextra
    version: "^4.0.0"
    purpose: "Documentation framework"
  - name: nextra-theme-docs
    version: "^4.0.0"
    purpose: "Docs theme (sidebar, TOC, dark mode, search)"
  - name: typescript
    version: "^5.0.0"
    purpose: "Type checking"
  - name: "@types/react"
    version: "latest"
    purpose: "React type definitions"
  - name: "@types/node"
    version: "latest"
    purpose: "Node.js type definitions"

phases:
  - id: phase-1
    name: "Setup & Configuration"
    description: "Install dependencies, configure Next.js and Nextra, setup TypeScript"
    subtasks:
      - id: "1.1"
        description: "Update package.json with dependencies and real npm scripts (dev, build, start, lint)"
        service: infra
        files:
          - "package.json"
        verification:
          type: command
          command: "npm install"
        status: pending
        notes: "Replace placeholder scripts with: dev='next --turbopack', build='next build', start='next start', lint='next lint'"

      - id: "1.2"
        description: "Create next.config.mjs with Nextra plugin wrapping Next.js config"
        service: infra
        files:
          - "next.config.mjs"
        verification:
          type: command
          command: "node -e \"import('./next.config.mjs').then(() => console.log('OK'))\""
        status: pending
        dependencies: ["1.1"]
        notes: "Use nextra() wrapper. Set contentDirBasePath if needed."

      - id: "1.3"
        description: "Create tsconfig.json with Next.js 15 TypeScript configuration"
        service: infra
        files:
          - "tsconfig.json"
        verification:
          type: command
          command: "npx tsc --noEmit"
        status: pending
        dependencies: ["1.1"]

  - id: phase-2
    name: "App Shell"
    description: "Create the Next.js App Router shell with Nextra theme layout"
    subtasks:
      - id: "2.1"
        description: "Create root layout (app/layout.tsx) with Nextra theme components: Navbar, Footer, Layout, Head"
        service: frontend
        files:
          - "app/layout.tsx"
          - "app/global.css"
        verification:
          type: command
          command: "npx tsc --noEmit"
        status: pending
        dependencies: ["1.2", "1.3"]
        notes: "Import nextra-theme-docs/style.css. Set lang='pt-BR', dark mode default. Configure docsRepositoryBase, sidebar, toc."

      - id: "2.2"
        description: "Create catch-all MDX route (app/[[...mdxPath]]/page.tsx) for content directory convention"
        service: frontend
        files:
          - "app/[[...mdxPath]]/page.tsx"
        verification:
          type: command
          command: "npx tsc --noEmit"
        status: pending
        dependencies: ["2.1"]
        notes: "This is the Nextra 4 content directory convention entry point. Import from nextra/pages."

      - id: "2.3"
        description: "Create mdx-components.tsx at project root (required by Nextra 4 for MDX support)"
        service: frontend
        files:
          - "mdx-components.tsx"
        verification:
          type: command
          command: "npx tsc --noEmit"
        status: pending
        dependencies: ["1.1"]
        notes: "Export useMDXComponents from nextra-theme-docs."

  - id: phase-3
    name: "Content Foundation"
    description: "Create initial content structure and placeholder landing page"
    subtasks:
      - id: "3.1"
        description: "Create root _meta.js navigation config and placeholder index.mdx landing page"
        service: frontend
        files:
          - "content/_meta.js"
          - "content/index.mdx"
        verification:
          type: command
          command: "npm run build"
        status: pending
        dependencies: ["2.2", "2.3"]
        notes: "_meta.js defines top-level navigation. index.mdx is the homepage with title 'Synkra AIOS Docs'."

      - id: "3.2"
        description: "Update .gitignore with Next.js and Nextra specific entries"
        service: infra
        files:
          - ".gitignore"
        verification:
          type: command
          command: "test -f .gitignore"
        status: pending
        notes: "Add .next/, out/, node_modules/, .env*.local"

  - id: phase-4
    name: "Verification"
    description: "Verify build, dev server, and lint all pass successfully"
    subtasks:
      - id: "4.1"
        description: "Run full build verification (npm run build) and confirm SSG output"
        service: infra
        files: []
        verification:
          type: command
          command: "npm run build"
        status: pending
        dependencies: ["3.1", "3.2"]

      - id: "4.2"
        description: "Run lint verification (npm run lint) and fix any issues"
        service: infra
        files: []
        verification:
          type: command
          command: "npm run lint"
        status: pending
        dependencies: ["4.1"]

      - id: "4.3"
        description: "Manual verification â€” dev server shows page at localhost:3000 in dark mode"
        service: frontend
        files: []
        verification:
          type: manual
          instructions: "Run 'npm run dev', open http://localhost:3000, verify: (1) Page shows 'Synkra AIOS Docs' title, (2) Dark mode is default, (3) Nextra theme renders correctly with sidebar"
        status: pending
        dependencies: ["4.1"]
